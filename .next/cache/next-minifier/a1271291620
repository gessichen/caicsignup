{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{OUKs:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/signup\",function(){return a(\"vL9u\")}])},vL9u:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"default\",(function(){return w}));var n=a(\"vYYK\"),i=a(\"0iUn\"),o=a(\"sLSF\"),r=a(\"MI3g\"),s=a(\"a7VT\"),l=a(\"AT/M\"),c=a(\"Tit0\"),u=a(\"8Kt/\"),h=a.n(u),m=a(\"q1tI\"),d=a.n(m),p=a(\"vDqi\"),b=a.n(p),v=d.a.createElement,f=function(e){var t=e.type,a=e.name,n=e.label,i=e.onChange,o=e.placeholder,r=e.value,s=e.error,l=\"form-group\";return s&&s.length>0&&(l+=\" has-error\"),v(\"div\",{className:l},v(\"label\",{htmlFor:a},n),v(\"div\",{className:\"field\"},v(\"input\",{type:t,name:a,className:\"form-control input-lg\",placeholder:o,value:r,onChange:i}),s&&v(\"div\",{className:\"alert alert-danger\"},s)))},g=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).state={verification_code:\"\",invitation_code:\"\",password:\"\",user_name:\"\",mobile:\"\",preMobile:\"\"},a.onChange=a.onChange.bind(Object(l.a)(a)),a.submitForm=a.submitForm.bind(Object(l.a)(a)),a.formIsValid=a.formIsValid.bind(Object(l.a)(a)),a}return Object(c.a)(t,e),Object(o.a)(t,[{key:\"componentDidMount\",value:function(){var e=window.location.search.split(\"&\");if(3!==e.length)alert(\"Information not complete\");else{var t=e[0].split(\"=\")[1],a=e[1].split(\"=\")[1],n=e[2].split(\"=\")[1];this.setState({invitation_code:t,mobile:n,preMobile:a})}}},{key:\"onChange\",value:function(e){return this.setState(Object(n.a)({},e.target.name,e.target.value))}},{key:\"formIsValid\",value:function(){return this.state.password.length<8?(alert(\"mobile number format is not right!\"),!1):0===this.state.user_name.trim().length?(alert(\"mobile number format is not right!\"),!1):0===this.state.invitation_code.trim().length?(alert(\"mobile number format is not right!\"),!1):0!==this.state.verification_code.trim().length||(alert(\"mobile number format is not right!\"),!1)}},{key:\"submitForm\",value:function(e){e.preventDefault(),this.formIsValid()&&b.a.post(\"http://cicoins.io:8999/api/app/user/register\",{preMobile:this.state.preMobile,mobile:this.state.mobile,userName:this.state.user_name,password:this.state.password,code:this.state.verification_code,inviteCode:this.state.invitation_code}).then((function(e){0===e.data.code?window.location=\"/finish\":alert(\"Register failed\")}))}},{key:\"render\",value:function(){return v(\"div\",null,v(\"div\",{className:\"Register\"},v(\"h2\",null,\"Register\"),v(\"h4\",null,\"Production Company\"),v(\"form\",{onSubmit:this.submitForm},v(f,{type:\"text\",label:\"Verification Code\",name:\"verification_code\",value:this.state.verification_code,placeholder:\"Mobile verification code\",onChange:this.onChange,errors:null}),v(f,{type:\"text\",label:\"User Name\",name:\"user_name\",value:this.state.user_name,placeholder:\"User name\",onChange:this.onChange,errors:null}),v(f,{type:\"password\",label:\"Password\",name:\"password\",value:this.state.password,placeholder:\"Password should be at least 8 characters\",onChange:this.onChange,errors:null}),v(f,{type:\"text\",label:\"Invitation Code\",name:\"invitation_code\",value:this.state.invitation_code,placeholder:\"invitation code\",onChange:this.onChange,errors:null}),v(\"input\",{type:\"submit\",value:\"Register\",className:\"btn btn-primary btn-lg\"}))))}}]),t}(d.a.Component),w=function(e){function t(e){return Object(i.a)(this,t),Object(r.a)(this,Object(s.a)(t).call(this,e))}return Object(c.a)(t,e),Object(o.a)(t,[{key:\"render\",value:function(){return v(\"div\",null,v(h.a,null,v(\"title\",null,\"CAIC\"),v(\"link\",{href:\"https://caicsignup.s3-ap-northeast-1.amazonaws.com/main.css\",rel:\"stylesheet\"}),v(\"link\",{href:\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css\",rel:\"stylesheet\"})),v(g,null))}}]),t}(d.a.Component)}},[[\"OUKs\",0,2,1,14,15]]]);"}