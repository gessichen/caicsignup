{"version":3,"file":"static/webpack/static/development/pages/signup.js.9e7a241353fc6b0cacd1.hot-update.js","sources":["webpack:///./pages/signup.js"],"sourcesContent":["import Head from \"next/head\";\nimport React from \"react\";\nimport axios from \"axios\";\n\nconst TextInput = ({type, name, label, onChange, placeholder, value, error}) => {\n    let wrapperClass = 'form-group';\n    if(error && error.length > 0) {\n        wrapperClass += \" \" + 'has-error';\n    }\n    return (\n        <div className={wrapperClass}>\n            <label htmlFor={name}>{label}</label>\n            <div className=\"field\">\n                <input\n                    type={type}\n                    name={name}\n                    className=\"form-control input-lg\"\n                    placeholder={placeholder}\n                    value={value}\n                    onChange={onChange} />\n                {error && <div className=\"alert alert-danger\">{error}</div>}\n            </div>\n        </div>\n    );\n};\n\nclass UserInfo extends React.Component {\n  \n  constructor(props) {\n    super(props);\n    this.state = {\n      verification_code:\"\", \n      invitation_code: \"\",\n      password: false,\n      user_name: \"\",\n\n      mobile:   \"\",\n      preMobile: \"\",\n    }\n    this.onChange = this.onChange.bind(this);\n\n    this.submitForm = this.submitForm.bind(this);\n    this.formIsValid = this.formIsValid.bind(this);\n  }\n\n  componentDidMount() {\n    let urlPath = window.location.search;\n\n    //alert(urlPath);\n\n    let components = urlPath.split(\"&\");\n    if(components.length !== 3) {\n        alert(\"Information not complete\");\n    } else {\n        let invitation = components[0].split(\"=\")[1]; \n        let preMobile = components[1].split(\"=\")[1]; \n        let mobile = components[2].split(\"=\")[1]; \n\n        this.setState({\n            invitation_code:    invitation,\n            mobile:             mobile\n        })\n    }\n    \n    /*\n    if(components.length > 1) {\n\n      this.setState({\n        invitation_code:  components[1]\n      })\n    }*/\n\n  }\n  \n  onChange(e) {\n\n    return this.setState({[e.target.name]: e.target.value});\n  }\n  \n  formIsValid() {\n\n    let isValid = true;\n\n    if (this.state.password.length < 8) {\n      alert(\"mobile number format is not right!\");\n      return false;\n    }\n\n    if (this.state.user_name.trim().length === 0) {\n        alert(\"mobile number format is not right!\");\n        return false;\n    }\n\n    if (this.state.invitation_code.trim().length === 0) {\n        alert(\"mobile number format is not right!\");\n        return false;\n    }\n\n    if (this.state.verification_code.trim().length === 0) {\n        alert(\"mobile number format is not right!\");\n        return false;\n    }\n\n\n    return isValid;\n  }\n  \n  submitForm(e) {\n\n    e.preventDefault();\n\n    if(this.formIsValid()) {\n      axios.post(\"http://cicoins.io:8999/api/app/verify/signUpCode\", {\n        verification:   this.state.mobile,\n        preMobile:  this.state.preMobile\n      })\n      .then((res) => {\n        \n      })\n    }\n  }\n  \n  render() {\n    return (\n      <div>\n        <div className=\"Register\">\n          <h2>Register</h2>\n          <h4>Production Company</h4>\n          <form onSubmit={this.submitForm}>\n\n\n            <TextInput\n              type=\"text\"\n              label= \"Verification Code\"\n              name= \"verification_code\"\n              value= {this.state.verification_code}\n              placeholder= \"Mobile verification code\"\n              onChange= {this.onChange}\n              errors= {null}/>\n\n\n            <TextInput\n              type=\"text\"\n              label= \"User Name\"\n              name= \"user_name\"\n              value= {this.state.user_name}\n              placeholder= \"User name\"\n              onChange= {this.onChange}\n              errors= {null}/>\n\n\n            <TextInput\n              type=\"password\"\n              label= \"Password\"\n              name= \"password\"\n              value= {this.state.password}\n              placeholder= \"Password should be at least 8 characters\"\n              onChange= {this.onChange}\n              errors= {null}/>\n\n            <TextInput\n              type=\"text\"\n              label= \"Invitation Code\"\n              name= \"invitation_code\"\n              value= {this.state.invitation_code}\n              placeholder= \"invitation code\"\n              onChange= {this.onChange}\n              errors= {null}/>\n\n            <input\n              type=\"submit\"\n              value=\"Register\"\n              className=\"btn btn-primary btn-lg\"/>\n          </form>\n        </div>  \n      </div>\n    )\n  }\n};\n\n\n\nexport default class Signup extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      \n    };    \n  }\n\n  render() {\n    return (\n      <div>\n        <Head>\n          <title>CAIC</title>\n          <link href=\"https://caicsignup.s3-ap-northeast-1.amazonaws.com/main.css\" rel=\"stylesheet\" />\n          <link href=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\" />\n        </Head>\n\n        <UserInfo />\n      </div>\n    )\n  }\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAPA;AASA;AAEA;AACA;AAdA;AAeA;AACA;;;AACA;AACA;AACA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAFA;AAIA;AAEA;;;;;;;AAQA;;;AAEA;AAEA;AACA;;;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAFA;AAOA;AACA;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;;;;AAvJA;AACA;AAuJA;AACA;AAGA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAKA;AACA;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AApBA;AACA;AADA;AAqBA;;;;A","sourceRoot":""}