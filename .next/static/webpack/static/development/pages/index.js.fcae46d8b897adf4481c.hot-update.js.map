{"version":3,"file":"static/webpack/static/development/pages/index.js.fcae46d8b897adf4481c.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import Head from \"next/head\";\n\nimport { useRouter } from \"next/router\";\n\nimport React from \"react\";\nimport { Alert} from \"reactstrap\";\nimport axios from \"axios\";\n\nconst TextInput = ({type, name, label, onChange, placeholder, value, error}) => {\n    let wrapperClass = 'form-group';\n    if(error && error.length > 0) {\n        wrapperClass += \" \" + 'has-error';\n    }\n    return (\n        <div className={wrapperClass}>\n            <label htmlFor={name}>{label}</label>\n            <div className=\"field\">\n                <input\n                    type={type}\n                    name={name}\n                    className=\"form-control input-lg\"\n                    placeholder={placeholder}\n                    value={value}\n                    onChange={onChange} />\n                {error && <div className=\"alert alert-danger\">{error}</div>}\n            </div>\n        </div>\n    );\n};\n\nclass Register extends React.Component {\n  \n  constructor(props) {\n    super(props);\n    this.state = {\n      preMobile:\"\", \n      mobile: \"\",\n      alert_show: false,\n      alert_title: \"123\",\n      invitation_code: \"\"\n    }\n    this.onChange = this.onChange.bind(this);\n    this.onChangeCountry = this.onChangeCountry.bind(this);\n    this.submitForm = this.submitForm.bind(this);\n    this.formIsValid = this.formIsValid.bind(this);\n  }\n\n  componentDidMount() {\n    let urlPath = window.location.search;\n\n    let components = urlPath.split(\"=\");\n    \n    if(components.length > 1) {\n\n      this.setState({\n        invitation_code:  components[1]\n      })\n    }\n  }\n  \n  onChange(e) {\n\n    return this.setState({[e.target.name]: e.target.value});\n  }\n\n  onChangeCountry(e) {\n    e.preventDefault();\n\n    this.setState({\n      preMobile: e.target.value\n    })\n  }\n  \n  formIsValid() {\n\n    let isValid = true;\n\n    if (this.state.mobile.length < 10) {\n\n      isValid = false;\n\n      alert(\"mobile number format is not right!\");\n    }\n    return isValid;\n  }\n  \n  submitForm(e) {\n\n    e.preventDefault();\n\n    if(this.formIsValid()) {\n      axios.post(\"http://cicoins.io:8999/api/app/verify/signUpCode\", {\n        mobile:   this.state.mobile,\n        preMobile:  this.state.preMobile\n      })\n      .then((res) => {\n        let resBody = res.data;\n\n        if(resBody.code === 5009) {\n          alert(\"Mobile number is already registered!\")\n        } else if(resBody.code === 0) {\n          window.location = \"http://localhost:3000/signup?invitation=\" + this.state.invitation_code \n          + \"&preMobile=\" + this.state.preMobile + \"&mobile=\" + this.state.mobile;  \n        } else {\n          alert(\"Cannot register for now!\")\n        }\n      })\n    }\n  }\n  \n  render() {\n    return (\n      <div>\n        <div className=\"Register\">\n          <h2>Register</h2>\n          <h4>Production Company</h4>\n          <form onSubmit={this.submitForm}>\n\n            <div class=\"form-group\">\n              <label>{\"Country\"}</label>\n                <div className=\"field input-lg\">\n                  <select onChange={this.onChangeCountry}>\n                    <option value=\"+82\">Korea</option>\n                    <option value=\"+81\">Japan</option>\n                    <option value=\"+86\">China</option>\n                  </select>\n                </div>\n            </div>\n\n\n            <TextInput\n              type=\"text\"\n              label= \"Cell Phone\"\n              name= \"mobile\"\n              value= {this.state.mobile}\n              placeholder= \"cell phone\"\n              onChange= {this.onChange}\n              errors= {null}/>\n            <input\n              type=\"submit\"\n              value=\"Register\"\n              className=\"btn btn-primary btn-lg\"/>\n          </form>\n        </div>  \n      </div>\n    )\n  }\n};\n\n\n\nexport default class Index extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      \n    };    \n  }\n\n  render() {\n    return (\n      <div>\n        <Head>\n          <title>CAIC</title>\n          <link href=\"https://caicsignup.s3-ap-northeast-1.amazonaws.com/main.css\" rel=\"stylesheet\" />\n          <link href=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\" />\n        </Head>\n\n        <Register />\n      </div>\n    )\n  }\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AAZA;AAaA;AACA;;;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AADA;AAGA;AACA;;;AAEA;AAEA;AACA;;;AAEA;AACA;AAEA;AACA;AADA;AAGA;;;AAEA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAAA;AACA;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;;;;AApHA;AACA;AAoHA;AACA;AAGA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAKA;AACA;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AApBA;AACA;AADA;AAqBA;;;;A","sourceRoot":""}